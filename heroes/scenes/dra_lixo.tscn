[gd_scene load_steps=15 format=3 uid="uid://cgc65hb2jo1u7"]

[ext_resource type="Script" path="res://heroes/scripts/dra_lixo.gd" id="1_02i8v"]
[ext_resource type="PackedScene" uid="uid://d20x3gfrmoext" path="res://comps/scenes/health_component.tscn" id="2_k0dsn"]
[ext_resource type="PackedScene" uid="uid://bfx1wxpmwujue" path="res://comps/scenes/sanity_component.tscn" id="3_b8par"]
[ext_resource type="PackedScene" uid="uid://cx88lgs15cpdr" path="res://comps/scenes/effects_component.tscn" id="4_3sbss"]
[ext_resource type="PackedScene" uid="uid://ek5hq7khlfdc" path="res://comps/scenes/battack_component.tscn" id="5_k56ph"]
[ext_resource type="PackedScene" uid="uid://bid6uhyybfx4x" path="res://comps/scenes/navigation_component.tscn" id="6_flg0h"]
[ext_resource type="PackedScene" uid="uid://5fpdn8fr4h7o" path="res://comps/scenes/controller_component.tscn" id="7_babr1"]
[ext_resource type="PackedScene" uid="uid://dvaipocthe14r" path="res://comps/scenes/damage_mgr_component.tscn" id="8_fqqi0"]
[ext_resource type="PackedScene" uid="uid://cwhihpdu5pw3h" path="res://comps/scenes/gui_component.tscn" id="9_5lmth"]
[ext_resource type="PackedScene" uid="uid://df4c8oi2h37jp" path="res://objs/targets/pointer/spot_pointer.tscn" id="10_dmd1t"]
[ext_resource type="PackedScene" uid="uid://bb82m0a0q1pso" path="res://objs/targets/pointer/direction_pointer.tscn" id="11_a5veo"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_gn32f"]
height = 1.7
radius = 0.35

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_pgmwp"]
albedo_color = Color(0, 0.67451, 0.501961, 1)
roughness = 0.35
emission_enabled = true
emission = Color(0, 0.52549, 0.533333, 1)

[sub_resource type="CapsuleMesh" id="CapsuleMesh_y0sgh"]
material = SubResource("StandardMaterial3D_pgmwp")
radius = 0.35
height = 1.7

[node name="DraLixo" type="CharacterBody3D" node_paths=PackedStringArray("dmgr", "q_p", "w_p", "e_p")]
script = ExtResource("1_02i8v")
dmgr = NodePath("Comps/DmgrComponent")
q_p = NodePath("Abilities/Q")
w_p = NodePath("Abilities/W")
e_p = NodePath("Abilities/E")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CylinderShape3D_gn32f")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
mesh = SubResource("CapsuleMesh_y0sgh")

[node name="Comps" type="Node3D" parent="."]

[node name="HealthComponent" parent="Comps" instance=ExtResource("2_k0dsn")]

[node name="SanityComponent" parent="Comps" node_paths=PackedStringArray("health_comp") instance=ExtResource("3_b8par")]
health_comp = NodePath("../HealthComponent")

[node name="EffectsComponent" parent="Comps" node_paths=PackedStringArray("battack_comp", "nav_comp", "health_comp", "sanity_comp") instance=ExtResource("4_3sbss")]
battack_comp = NodePath("../BAttackComponent")
nav_comp = NodePath("../NavigationComponent")
health_comp = NodePath("../HealthComponent")
sanity_comp = NodePath("../SanityComponent")

[node name="BAttackComponent" parent="Comps" node_paths=PackedStringArray("nav_comp") instance=ExtResource("5_k56ph")]
atk_damage = 5.0
atk_cooldown = 0.7
range = 10.0
nav_comp = NodePath("../NavigationComponent")

[node name="NavigationComponent" parent="Comps" node_paths=PackedStringArray("hero") instance=ExtResource("6_flg0h")]
speed = 300
hero = NodePath("../..")

[node name="ControllerComponent" parent="Comps" node_paths=PackedStringArray("nav", "battack", "hero") instance=ExtResource("7_babr1")]
nav = NodePath("../NavigationComponent")
battack = NodePath("../BAttackComponent")
hero = NodePath("../..")

[node name="DmgrComponent" parent="Comps" node_paths=PackedStringArray("health_component", "effects_component") instance=ExtResource("8_fqqi0")]
health_component = NodePath("../HealthComponent")
effects_component = NodePath("../EffectsComponent")

[node name="GUIComponent" parent="Comps" node_paths=PackedStringArray("health_comp", "sanity_comp") instance=ExtResource("9_5lmth")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.2007, 0)
health_comp = NodePath("../HealthComponent")
has_sanity = true
sanity_comp = NodePath("../SanityComponent")

[node name="Abilities" type="Node3D" parent="."]

[node name="Q" parent="Abilities" instance=ExtResource("11_a5veo")]

[node name="W" parent="Abilities" instance=ExtResource("10_dmd1t")]

[node name="E" parent="Abilities" node_paths=PackedStringArray("mesh_instance") instance=ExtResource("11_a5veo")]
mesh_instance = NodePath("../Q/MeshInstance3D")

[node name="UltTimer" type="Timer" parent="."]
wait_time = 15.0
