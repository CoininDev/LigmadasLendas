[gd_scene load_steps=15 format=3 uid="uid://jboi54iuxlvt"]

[ext_resource type="Script" path="res://heroes/scripts/corelio.gd" id="1_t854n"]
[ext_resource type="Material" uid="uid://bccsu1ub6vu34" path="res://graphics/modelos 3d/hero_generico.tres" id="2_vc6fh"]
[ext_resource type="PackedScene" uid="uid://dvaipocthe14r" path="res://comps/scenes/damage_mgr_component.tscn" id="3_4uw8i"]
[ext_resource type="PackedScene" uid="uid://cx88lgs15cpdr" path="res://comps/scenes/effects_component.tscn" id="3_blcen"]
[ext_resource type="PackedScene" uid="uid://d20x3gfrmoext" path="res://comps/scenes/health_component.tscn" id="4_q0hdf"]
[ext_resource type="PackedScene" uid="uid://bid6uhyybfx4x" path="res://comps/scenes/navigation_component.tscn" id="6_0vmcu"]
[ext_resource type="PackedScene" uid="uid://dihqxk54qchm4" path="res://comps/scenes/ranged_b_attack_component.tscn" id="6_nxmiu"]
[ext_resource type="PackedScene" uid="uid://5fpdn8fr4h7o" path="res://comps/scenes/controller_component.tscn" id="7_842cy"]
[ext_resource type="PackedScene" uid="uid://cwhihpdu5pw3h" path="res://comps/scenes/gui_component.tscn" id="8_nca74"]
[ext_resource type="PackedScene" uid="uid://bfx1wxpmwujue" path="res://comps/scenes/sanity_component.tscn" id="9_g8itl"]
[ext_resource type="PackedScene" uid="uid://boihyru5nyiju" path="res://comps/scenes/xp_component.tscn" id="10_kjn3s"]
[ext_resource type="PackedScene" uid="uid://bb82m0a0q1pso" path="res://objs/targets/pointer/direction_pointer.tscn" id="11_hnvqt"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_wvo1n"]
material = ExtResource("2_vc6fh")

[sub_resource type="CylinderShape3D" id="CylinderShape3D_ey8t6"]

[node name="corelio" type="CharacterBody3D" node_paths=PackedStringArray("nav", "dmgr", "xp_comp", "q_p", "w_p", "e_p", "r_p")]
script = ExtResource("1_t854n")
nav = NodePath("comps/NavComponent")
dmgr = NodePath("comps/DamageMgrComponent")
xp_comp = NodePath("comps/XPComponent")
q_p = NodePath("AbilityPointers/Q")
w_p = NodePath("AbilityPointers/W")
e_p = NodePath("AbilityPointers/E")
r_p = NodePath("AbilityPointers/R")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1.58, 0, 0, 0, 1, 0, 1, 0)
mesh = SubResource("CapsuleMesh_wvo1n")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1.58, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CylinderShape3D_ey8t6")

[node name="comps" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)

[node name="EffectsComponent" parent="comps" instance=ExtResource("3_blcen")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)

[node name="DamageMgrComponent" parent="comps" node_paths=PackedStringArray("health_component", "effects_component") instance=ExtResource("3_4uw8i")]
health_component = NodePath("../HealthComponent")
effects_component = NodePath("../EffectsComponent")

[node name="HealthComponent" parent="comps" node_paths=PackedStringArray("hero") instance=ExtResource("4_q0hdf")]
hero = NodePath("../..")

[node name="RangedBAttackComponent" parent="comps" node_paths=PackedStringArray("nav_comp") instance=ExtResource("6_nxmiu")]
atk_damage = 10.0
atk_cooldown = 5.0
range = 20.0
nav_comp = NodePath("../NavComponent")

[node name="NavComponent" parent="comps" node_paths=PackedStringArray("hero") instance=ExtResource("6_0vmcu")]
target_desired_distance = 0.1
path_height_offset = -0.25
speed = 300
hero = NodePath("../..")

[node name="ControllerComponent" parent="comps" node_paths=PackedStringArray("nav", "battack", "hero") instance=ExtResource("7_842cy")]
nav = NodePath("../NavComponent")
battack = NodePath("../RangedBAttackComponent")
hero = NodePath("../..")

[node name="GUIComponent" parent="comps" node_paths=PackedStringArray("health_comp", "sanity_comp") instance=ExtResource("8_nca74")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.73506, 0)
health_comp = NodePath("../HealthComponent")
has_sanity = true
sanity_comp = NodePath("../SanityComponent")

[node name="SanityComponent" parent="comps" node_paths=PackedStringArray("health_comp") instance=ExtResource("9_g8itl")]
health_comp = NodePath("../HealthComponent")

[node name="XPComponent" parent="comps" node_paths=PackedStringArray("hero") instance=ExtResource("10_kjn3s")]
hero = NodePath("../..")

[node name="AbilityPointers" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)

[node name="Q" parent="AbilityPointers" instance=ExtResource("11_hnvqt")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.50154, 0)

[node name="W" parent="AbilityPointers" instance=ExtResource("11_hnvqt")]

[node name="E" parent="AbilityPointers" instance=ExtResource("11_hnvqt")]

[node name="R" parent="AbilityPointers" instance=ExtResource("11_hnvqt")]
